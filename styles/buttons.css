/* ==========================================================================
   BBL Design System - Button & Link Styles
   Uses design tokens from /styles/tokens/
   
   Button Variants:
   - Primary: Filled buttons for main actions
   - Secondary: Outlined buttons for secondary actions
   - Tertiary: Text-only buttons/links
   
   Sizes:
   - L (52px): Hero banners
   - M (44px): Desktop default
   - S (28px): Mobile/Tablet
   ==========================================================================
*/

/* =========================================================================
   BASE BUTTON STYLES
   ========================================================================= */

button,
.button {
  /* Reset */
  appearance: none;
  border: none;
  background: none;
  margin: 0;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--bbl-space-100);
  
  /* Typography */
  font-family: var(--bbl-font-family-primary);
  font-weight: var(--bbl-font-weight-medium);
  line-height: 1;
  text-align: center;
  
  /* Layout */
  border-radius: var(--bbl-radius-full);
  transition: all 0.2s ease-in-out;
  white-space: nowrap;
  
  /* Ensure proper touch targets */
  min-height: 28px;
}

.button-container {
  margin: 12px 0;
}

/* =========================================================================
   BUTTON SIZES
   Mobile-first: S is default, then override for larger screens
   ========================================================================= */

/* --- Small (Mobile/Tablet) - 28px height --- */
button,
.button,
.button-s {
  height: 28px;
  padding: 0 var(--bbl-space-200);
  font-size: var(--bbl-body-b2-size);
}

/* --- Medium (Desktop) - 44px height --- */
.button-m {
  height: 44px;
  padding: 0 var(--bbl-space-300);
  font-size: var(--bbl-body-b1-size);
}

/* --- Large (Hero Banner) - 52px height --- */
.button-l {
  height: 52px;
  padding: 0 var(--bbl-space-400);
  font-size: var(--bbl-body-b1-size);
}

/* Responsive: M size on desktop */
@media (width >= 1025px) {
  button,
  .button {
    height: 44px;
    padding: 0 var(--bbl-space-300);
    font-size: var(--bbl-body-b1-size);
  }
}

/* =========================================================================
   PRIMARY BUTTONS
   Filled buttons with Active Blue background
   ========================================================================= */

.button,
.button.primary,
.button-primary,
button[type="submit"],
button.primary {
  background: var(--bbl-color-active-blue);
  color: var(--bbl-color-white);
  border: none;
}

button:focus-visible,
.button:focus-visible {
  outline: 2px solid var(--bbl-color-active-blue);
  outline-offset: 2px;
}

/* Hover */
.button:hover,
.button-primary:hover,
button[type="submit"]:hover {
  background: var(--bbl-color-blue-70);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgb(0 100 255 / 30%);
}

/* Active/Pressed */
.button:active,
.button-primary:active,
button[type="submit"]:active {
  background: var(--bbl-color-blue-90);
  transform: translateY(0);
  box-shadow: none;
}

/* Disabled */
.button:disabled,
.button-primary:disabled,
button[type="submit"]:disabled {
  background: var(--bbl-color-grey-40);
  color: var(--bbl-color-grey-60);
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}

/* Primary Inverted (for Dark Backgrounds) */
.button-primary-inverted {
  background: var(--bbl-color-white);
  color: var(--bbl-color-truthful-blue);
}

.button-primary-inverted:hover {
  background: var(--bbl-color-blue-10);
}

.button-primary-inverted:disabled {
  background: var(--bbl-color-grey-80);
  color: var(--bbl-color-grey-60);
}

/* =========================================================================
   SECONDARY BUTTONS
   Outlined buttons with border
   ========================================================================= */

.button.secondary,
.button-secondary,
button.secondary {
  background: transparent;
  color: var(--bbl-color-active-blue);
  border: 2px solid var(--bbl-color-active-blue);
}

/* Hover */
.button-secondary:hover {
  background: var(--bbl-color-blue-10);
  border-color: var(--bbl-color-blue-70);
  color: var(--bbl-color-blue-70);
}

/* Active/Pressed */
.button-secondary:active {
  background: var(--bbl-color-blue-20);
  border-color: var(--bbl-color-blue-90);
  color: var(--bbl-color-blue-90);
}

/* Disabled */
.button-secondary:disabled {
  background: transparent;
  border-color: var(--bbl-color-grey-40);
  color: var(--bbl-color-grey-50);
  cursor: not-allowed;
}

/* Secondary Inverted (for Dark Backgrounds) */
.button-secondary-inverted {
  background: transparent;
  color: var(--bbl-color-white);
  border-color: var(--bbl-color-white);
}

.button-secondary-inverted:hover {
  background: var(--bbl-color-white-alpha-10);
  border-color: var(--bbl-color-blue-30);
  color: var(--bbl-color-blue-30);
}

.button-secondary-inverted:disabled {
  border-color: var(--bbl-color-grey-70);
  color: var(--bbl-color-grey-70);
  background: transparent;
}

/* =========================================================================
   TERTIARY BUTTONS (Text/Link Style)
   Text-only buttons with optional arrow
   ========================================================================= */

.button-tertiary,
button.tertiary {
  background: transparent;
  color: var(--bbl-color-active-blue);
  border: none;
  padding: 0;
  height: auto;
  font-weight: var(--bbl-font-weight-medium);
  text-decoration: none;
  gap: var(--bbl-space-050);
}

/* Arrow icon (using CSS) */
.button-tertiary::after {
  content: 'â†’';
  font-size: 1.2em;
  transition: transform 0.2s ease-in-out;
}

/* Hover */
.button-tertiary:hover {
  color: var(--bbl-color-blue-70);
  text-decoration: underline;
}

.button-tertiary:hover::after {
  transform: translateX(4px);
}

/* Active/Pressed */
.button-tertiary:active {
  color: var(--bbl-color-blue-90);
}

/* Disabled */
.button-tertiary:disabled {
  color: var(--bbl-color-grey-50);
  cursor: not-allowed;
  text-decoration: none;
}

.button-tertiary:disabled::after {
  opacity: 0.5;
}

/* Tertiary Inverted (for Dark Backgrounds) */
.button-tertiary-inverted {
  color: var(--bbl-color-white);
}

.button-tertiary-inverted:hover {
  color: var(--bbl-color-blue-30);
}

.button-tertiary-inverted:disabled {
  color: var(--bbl-color-grey-70);
}

/* =========================================================================
   HYPERLINKS (In Rich Text)
   Standard text links with underline
   ========================================================================= */

a,
.link {
  color: var(--bbl-text-link);
  text-decoration: underline;
  cursor: pointer;
  transition: color 0.2s ease-in-out;
}

a:hover,
.link:hover {
  color: var(--bbl-text-link-hover);
  text-decoration: underline;
}

a:active,
.link:active {
  color: var(--bbl-color-blue-90);
}

/* Disabled links */
a[aria-disabled="true"],
.link:disabled,
.link.disabled {
  color: var(--bbl-color-grey-50);
  text-decoration: underline;
  cursor: not-allowed;
  pointer-events: none;
}

/* Links Inverted (for Dark Backgrounds) */
.link-inverted,
a.link-inverted {
  color: var(--bbl-color-white);
}

.link-inverted:hover,
a.link-inverted:hover {
  color: var(--bbl-color-blue-30);
}

.link-inverted[aria-disabled="true"],
.link-inverted:disabled,
a.link-inverted[aria-disabled="true"] {
  color: var(--bbl-color-grey-70);
}

/* =========================================================================
   BUTTON WITH ICON
   Buttons that include icons
   ========================================================================= */

.button-with-icon {
  display: inline-flex;
  align-items: center;
  gap: var(--bbl-space-100);
}

.button-with-icon svg,
.button-with-icon img {
  width: 20px;
  height: 20px;
}

/* =========================================================================
   BUTTON GROUPS
   Multiple buttons side by side
   ========================================================================= */

.button-group {
  display: inline-flex;
  gap: var(--bbl-space-150);
  flex-wrap: wrap;
}

/* Stack buttons on mobile */
@media (width < 600px) {
  .button-group {
    flex-direction: column;
    width: 100%;
  }
  
  .button-group > button,
  .button-group > .button {
    width: 100%;
  }
}

/* =========================================================================
   UTILITY CLASSES
   ========================================================================= */

/* Full width button */
.button-full-width {
  width: 100%;
}

/* Loading state */
.button-loading {
  position: relative;
  color: transparent;
  pointer-events: none;
}

.button-loading::after {
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-left: -8px;
  margin-top: -8px;
  border: 2px solid currentcolor;
  border-radius: 50%;
  border-top-color: transparent;
  animation: button-spinner 0.6s linear infinite;
}

@keyframes button-spinner {
  to {
    transform: rotate(360deg);
  }
}

